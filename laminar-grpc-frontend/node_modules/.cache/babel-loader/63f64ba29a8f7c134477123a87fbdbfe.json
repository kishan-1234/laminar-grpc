{"ast":null,"code":"/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n/**\n * Recycles subtrees from `prevData` by replacing equal subtrees in `nextData`.\n */\n\nfunction recycleNodesInto(prevData, nextData) {\n  if (prevData === nextData || typeof prevData !== 'object' || !prevData || typeof nextData !== 'object' || !nextData) {\n    return nextData;\n  }\n\n  var canRecycle = false; // Assign local variables to preserve Flow type refinement.\n\n  var prevArray = Array.isArray(prevData) ? prevData : null;\n  var nextArray = Array.isArray(nextData) ? nextData : null;\n\n  if (prevArray && nextArray) {\n    canRecycle = nextArray.reduce(function (wasEqual, nextItem, ii) {\n      var prevValue = prevArray[ii];\n      var nextValue = recycleNodesInto(prevValue, nextItem);\n\n      if (nextValue !== nextArray[ii]) {\n        if (process.env.NODE_ENV !== \"production\") {\n          if (!Object.isFrozen(nextArray)) {\n            nextArray[ii] = nextValue;\n          }\n        } else {\n          nextArray[ii] = nextValue;\n        }\n      }\n\n      return wasEqual && nextValue === prevArray[ii];\n    }, true) && prevArray.length === nextArray.length;\n  } else if (!prevArray && !nextArray) {\n    // Assign local variables to preserve Flow type refinement.\n    var prevObject = prevData;\n    var nextObject = nextData;\n    var prevKeys = Object.keys(prevObject);\n    var nextKeys = Object.keys(nextObject);\n    canRecycle = nextKeys.reduce(function (wasEqual, key) {\n      var prevValue = prevObject[key];\n      var nextValue = recycleNodesInto(prevValue, nextObject[key]);\n\n      if (nextValue !== nextObject[key]) {\n        if (process.env.NODE_ENV !== \"production\") {\n          if (!Object.isFrozen(nextObject)) {\n            // $FlowFixMe[cannot-write]\n            nextObject[key] = nextValue;\n          }\n        } else {\n          // $FlowFixMe[cannot-write]\n          nextObject[key] = nextValue;\n        }\n      }\n\n      return wasEqual && nextValue === prevObject[key];\n    }, true) && prevKeys.length === nextKeys.length;\n  }\n\n  return canRecycle ? prevData : nextData;\n}\n\nmodule.exports = recycleNodesInto;","map":{"version":3,"sources":["/Users/gayatri/work/laminar-grpc/frontend/node_modules/relay-runtime/lib/util/recycleNodesInto.js"],"names":["recycleNodesInto","prevData","nextData","canRecycle","prevArray","Array","isArray","nextArray","reduce","wasEqual","nextItem","ii","prevValue","nextValue","process","env","NODE_ENV","Object","isFrozen","length","prevObject","nextObject","prevKeys","keys","nextKeys","key","module","exports"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n// flowlint ambiguous-object-type:error\n'use strict';\n/**\n * Recycles subtrees from `prevData` by replacing equal subtrees in `nextData`.\n */\n\nfunction recycleNodesInto(prevData, nextData) {\n  if (prevData === nextData || typeof prevData !== 'object' || !prevData || typeof nextData !== 'object' || !nextData) {\n    return nextData;\n  }\n\n  var canRecycle = false; // Assign local variables to preserve Flow type refinement.\n\n  var prevArray = Array.isArray(prevData) ? prevData : null;\n  var nextArray = Array.isArray(nextData) ? nextData : null;\n\n  if (prevArray && nextArray) {\n    canRecycle = nextArray.reduce(function (wasEqual, nextItem, ii) {\n      var prevValue = prevArray[ii];\n      var nextValue = recycleNodesInto(prevValue, nextItem);\n\n      if (nextValue !== nextArray[ii]) {\n        if (process.env.NODE_ENV !== \"production\") {\n          if (!Object.isFrozen(nextArray)) {\n            nextArray[ii] = nextValue;\n          }\n        } else {\n          nextArray[ii] = nextValue;\n        }\n      }\n\n      return wasEqual && nextValue === prevArray[ii];\n    }, true) && prevArray.length === nextArray.length;\n  } else if (!prevArray && !nextArray) {\n    // Assign local variables to preserve Flow type refinement.\n    var prevObject = prevData;\n    var nextObject = nextData;\n    var prevKeys = Object.keys(prevObject);\n    var nextKeys = Object.keys(nextObject);\n    canRecycle = nextKeys.reduce(function (wasEqual, key) {\n      var prevValue = prevObject[key];\n      var nextValue = recycleNodesInto(prevValue, nextObject[key]);\n\n      if (nextValue !== nextObject[key]) {\n        if (process.env.NODE_ENV !== \"production\") {\n          if (!Object.isFrozen(nextObject)) {\n            // $FlowFixMe[cannot-write]\n            nextObject[key] = nextValue;\n          }\n        } else {\n          // $FlowFixMe[cannot-write]\n          nextObject[key] = nextValue;\n        }\n      }\n\n      return wasEqual && nextValue === prevObject[key];\n    }, true) && prevKeys.length === nextKeys.length;\n  }\n\n  return canRecycle ? prevData : nextData;\n}\n\nmodule.exports = recycleNodesInto;"]},"metadata":{},"sourceType":"script"}